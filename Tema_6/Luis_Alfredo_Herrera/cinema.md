# API de un sistema de reserva de butacas de cine

En este ejercicio vamos a diseñar la API REST para el cine en el que venimos trabajando en los ejercicios de los anteriores temas.

Las operaciones que la API debe soportar son las siguientes:
- Crear, eliminar y modificar películas.
- Crear, eliminar y modificar (parcialmente) salas.
- Crear, eliminar y modificar (parcialmente) usuarios.
- Crear una reserva para un usuario en una sala.
- Cancelar una reserva para un usuario en una sala.
- Modificar una reserva para un usuario en una sala.
- Registrar un pago de una reserva.

**Recursos identificados:**
- películas: Representa un película que va ser vista en cine.
- sala: Representa un las salas en el cine.
- usuarios: Representa los usuario del cine.
- reservaciones: Representa las reservaciones que realizaran los usuarios en el cine.
- pagos: Representa el pago realizada en la reserva.

| Método HTTP | URI                                  | Query Params | Request Body                                                                                                                                                                                                                          | Response Body                                                                                                                                                                                                                                       | Códigos HTTP de respuesta                                         |
|-------------|--------------------------------------|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
| POST        | /api/peliculas                       | N/A          | ``{"titulo": "Balto", "imagen": "./balto.png", "sinopsis": "Un perro guía a un grupo que transporta medicamentos para niños enfermos en una remota villa de Alaska.", "tiempo": "1h 30m", "categoria": "Aventura", "puntaje": "10"}`` | ``{"peliculaId":1,"titulo": "Balto", "imagen": "./balto.png", "sinopsis": "Un perro guía a un grupo que transporta medicamentos para niños enfermos en una remota villa de Alaska.", "tiempo": "1h 30m", "categoria": "Aventura", "puntaje": "10"}`` | 201 Created, 400 Bad Request, 500 Internal Server Error           |
| PUT         | /api/peliculas/{peliculasId}         | N/A          | ``{"titulo": "Balto", "imagen": "./balto.png", "sinopsis": "Un perro guía a un grupo que transporta medicamentos para niños enfermos en una remota villa de Alaska.", "tiempo": "1h 30m", "categoria": "Infantil", "puntaje": "10"}`` | ``{"peliculaId":1,"titulo": "Balto", "imagen": "./balto.png", "sinopsis": "Un perro guía a un grupo que transporta medicamentos para niños enfermos en una remota villa de Alaska.", "tiempo": "1h 30m", "categoria": "Infantil", "puntaje": "10"}`` | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error |
| DELETE      | /api/peliculas/{peliculasId}         | N/A          |                                                                                                                                                                                                                                       | ``{"peliculaId":1,"titulo": "Balto",  "mensaje": "Película eliminado exitosamente"}``                                                                                                                                                               | 200 OK, 404 Not Found, 500 Internal Server Error                  |
| POST        | /api/salas                           | N/A          | ``{"nombre": "Sala1", "columnas": 5, "filas": 5}``                                                                                                                                                                                    | ``{"salaId": 1, "nombre": "Sala1", "columnas": 5, "filas": 5}``                                                                                                                                                                                     | 201 Created, 400 Bad Request, 500 Internal Server Error           |
| PATCH       | /api/salas/{salaId}                  | N/A          | ``{"nombre": "Sala1", "columnas": 5, "filas": 8}``                                                                                                                                                                                    | ``{"salaId": 1, "nombre": "Sala1", "columnas": 5, "filas": 8}``                                                                                                                                                                                     | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error |
| DELETE      | /api/salas/{salaId}                  | N/A          |                                                                                                                                                                                                                                       | ``{"peliculaId":1,"titulo": "Balto",  "mensaje": "Sala eliminada exitosamente"}``                                                                                                                                                                   | 200 OK, 404 Not Found, 500 Internal Server Error|
| POST        | /api/usuarios                        | N/A          | ``{"ci": "1020304050", "nombre": "Javier", "apellido": "García", "correo": "jgarcia@yahoo.com", "telefono": "0991234567"}``                                                                                                           | ``{"usuarioId":1 "ci": "1020304050", "nombre": "Javier", "apellido": "García", "correo": "jgarcia@yahoo.com", "telefono": "0991234567"}``                                                                                                           | 201 Created, 400 Bad Request, 500 Internal Server Error   |
| PATCH       | /api/usuarios/{usuarioId}            | N/A          | ``{"ci": "1020304050", "nombre": "Javier", "apellido": "García", "correo": "jgarcia@hotmail.com", "telefono": "0991234567"}``                                                                                                         | ``{"usuarioId":1 "ci": "1020304050", "nombre": "Javier", "apellido": "García", "correo": "jgarcia@hotmail.com", "telefono": "0991234567"}``                                                                                                         | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error|
| DELETE      | /api/usuarios/{usuarioId}            | N/A          | N/A                                                                                                                                                                                                                                   | ``{"usuarioId":1 "ci": "1020304050", "nombre": "Javier", "apellido": "García", "mensaje": "Usuario eliminado exitosamente"}``                                                                                                                       | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error|
| POST        | /api/reservaciones                   | N/A          | ``{"usuarioId": 1, "salaId": 1, "fecha": "2024-05-31 15:00:00", "costo": "$8.000", "estado": "pendiente"}``                                                                                                                           | ``{"reservacionesId": "1", "usuarioId": 1, "salaId": 1, "fecha": "2024-05-31 15:00:00", "costo": "$8.000", "estado": "pendiente"}``                                                                                                                 | 201 Created, 400 Bad Request, 500 Internal Server Error|
| PUT         | /api/reservaciones/{reservacionesId} | N/A          | ``{"usuarioId": 1, "salaId": 1, "fecha": "2024-05-31 15:00:00", "costo": "$5.000", "estado": "pendiente"}``                                                                                                                           | ``{"reservacionesId": "1", "usuarioId": 1, "salaId": 1, "fecha": "2024-05-31 15:00:00", "costo": "$5.000", "estado": "pendiente"}``                                                                                                                 | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error|
| POST        | /api/pagos                           | N/A          | ``{"reservacionesId": 1, "valor": 50, "fechaRegistro": "2024-05-31"}``                                                                                                                                                                | ``{"pagoId":1,reservacionesId": 1, "valor": 50, "fechaRegistro": "2024-05-31"}``                                                                                                                                                                    | 201 Created, 400 Bad Request, 500 Internal Server Error||


