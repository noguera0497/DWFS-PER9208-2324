# API del juego hunde la flota

### Operaciones:
1. Crear un usuario.
2. Obtener datos de un usuario.
3. Eliminar un usuario.
4. Crear una partida.
5. Eliminar una partida.
6. Modificar datos de una partida.
7. Iniciar una partida.
8. Finalizar una partida.
9. Consultar todos los datos (jugadores asociados, barcos de cada jugador, disparos realizados, ganador...) de una partida.
10. Añadir un barco a la cuadrícula de un jugador en una partida.
11. Eliminar un barco de la cuadrícula de un jugador en una partida.
12. Consultar todos los barcos de un jugador de una partida.
13. Registrar un disparo de un jugador a otro en una partida.



### Recursos identificados:
- **Usuarios:** Información sobre los jugadores.
    - **usuarioId:** Identificador único del usuario.
    - **nombre:** Nombre de usuario.
    - **email:** Correo electrónico.
    - **fechaRegistro:** Fecha que se registro el usuario.

- **Partidas:** Información sobre las partidas.
    - **partidaId:** identificador único de la partida.
    - **jugado1:** ID del primer jugador.
    - **jugador2:** ID del segundo jugador.
    - **inicio:** fecha y hora de iniciación de la partida.
    - **fin:** fecha y hora de finalización de la partida.
    - **ganador:** ID del jugador ganador.
    - **estado:** estado de la partida (creada, iniciada, finalizada).

- **Barcos:** Representa los cuadros que cada jugador coloca en su cuadrícula.
    - **id:** identificador único del barco.
    - **partidaId:** ID de la partida.
    - **jugadorId:** ID del jugador al que pertenece.
    - **tamaño:** cantidad de cuadros del barco (1-4).
    - **orientación:** horizontal o vertical.
    - **inicialX:** coordenada inicial del eje X.
    - **inicialY:** coordenada inicial del eje Y.
    - **estado:** intacto, dañado, hundido.


- **Disparos:** Representa un intento de un jugador por hundir los barcos del contrincante.
    - **id:** identificador único del disparo.
    - **partidaId:** ID de la partida.
    - **jugadorId:** ID del jugador que dispara.
    - **objetivoX:** objetivo del disparo en el eje X.
    - **objetivoY:** objetivo del disparo en el eje Y.
    - **resultado:** fallido, acertado, barco hundido.





| N° | Método HTTP | URI                                                             | Query Params | Request Body                                                                                                         | Response Body                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Códigos HTTP de respuesta |
|----|-------------|-----------------------------------------------------------------|--------------|----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|

| 1 | POST        | /usuarios                                                       | N/A          | `{"nombre": "Xavier Quevedo", "email": "xxxx@xxxxx.com", "fechaRegistro": "2024-01-01" }` | `{"usuarioId": 1, "nombre": "Xavier Quevedo", "email": "xxxx@xxxxx.com", "fechaRegistro": "2024-01-01"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 201, 400, 500             |
| 2 | GET         | /usuarios/{usuarioId}                                          | N/A          | N/A                                                                                                                  | `{"nombre": "Xavier Quevedo", "email": "xxxx@xxxxx.com", "fechaRegistro": "2024-01-01" }` | `{"usuarioId": 1, "nombre": "Xavier Quevedo", "email": "xxxx@xxxxx.com", "fechaRegistro": "2024-01-01"}`                                                                 `                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 200, 404, 500             |
| 3 | DELETE      | /usuarios/{usuarioId}                                          | N/A          | N/A                                                                                                                  | `{"mensaje": "El usuario ha sido eliminado con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 404, 500             |



| 4  | POST        | /partidas                                                       | N/A          | `{"jugador1": 1, "jugador2": 2, "inicio": null, "fin": null, "ganador": null, "estado": "creada" }`         | `{"partidaId": 1, "jugador1": 1, "jugador2": 2, "inicio": null, "fin": null, "ganador": null, "estado": "creada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 201, 400, 500             |
| 5  | DELETE      | /partidas/{partidaId}                                          | N/A          | N/A                                                                                                                  | `{"mensaje": "La partida ha sido eliminada con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 404, 500             |
| 6  | PATCH       | /partidas/{partidaId}                                          | N/A          | `{"jugador2": null, "estado": "en espera"}`                                                                       | `{"partidaId": 1, "jugador1": 1, "jugador2": null, "inicio": null, "fin": null, "ganador": null, "estado": "en espera" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 200, 400, 404, 500        |
| 7  | PATCH       | /partidas/{partidaId}                                          | N/A          | `{"inicio": "2024-02-01 13:15:54", "estado": "iniciada"}`                                                            | `{"partidaId": 1, "jugador1": 1, "jugador2": 2, "inicio": "2024-02-01 13:15:54", "fin": null, "ganador": null, "estado": "iniciada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 400, 404, 500        |
| 8  | PATCH       | /partidas/{partidaId}                                          | N/A          | `{"fin": "2024-02-01 13:45:11", "ganador": 2, "estado": "finalizada"}`                                            | `{"partidaId": 1, "jugador1": 1, "jugador2": 2, "inicio": "2024-02-01 13:15:54", "fin": "2024-02-01 13:45:11", "ganador": 2, "estado": "finalizada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 400, 404, 500        |
| 9  | GET         | /partidas/{partidaId}                                          | N/A          | N/A                                                                                                                  | `{"id": 1, "jugador1": { "id": 1, "usuarioId": 1, "alias": null, "barcos": [{"id": 1, "partidaId": 1, "jugadorId": 1, "tamaño": 1, "orientacion": "horizontal", "inicialX": "B", "inicialY": 1, "estado": "intacto"}, {"id": 3, "partidaId": 1, "jugadorId": 1, "tamaño": 2, "orientacion": "vertical", "inicialX": "E", "inicialY": 3, "estado": "intacto"}], "disparos": [{"id": 1, "partidaId": 1, "jugadorId": 1, "objetivoX": "H", "objetivoY": 7, "resultado": "acertado"}, {"id": 5, "partidaId": 1, "jugadorId": 1, "objetivoX": "I", "objetivoY": 7, "resultado": "fallido"}] }, "jugador2": { "id": 2, "usuarioId": null, "alias": "anónimo123", "barcos": [{"id": 1, "partidaId": 1, "jugadorId": 2, "tamaño": 4, "orientacion": "vertical", "inicialX": "D", "inicialY": 2, "estado": "dañado"}, {"id": 8, "partidaId": 1, "jugadorId": 2, "tamaño": 2, "orientacion": "horizontal", "inicialX": "F", "inicialY": 6, "estado": "intacto"}], "disparos": [{"id": 7, "partidaId": 1, "jugadorId": 2, "objetivoX": "C", "objetivoY": 5, "resultado": "fallido"}] }, "inicio": "2024-02-01 14:00:00", "fin": "2024-02-01 14:30:00", "ganador": {"id": 2, "usuarioId": null, "alias": "anónimo123"}, "estado": "finalizada"}` | 200, 404, 500             |
| 10  | POST        | /partidas/{partidaId}/jugadores/{jugadorId}/barcos            | N/A          | `{"tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}`                    | `{"id": 1, "partidaId": 1, "jugadorId": 1, "tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 201, 400, 500             |
| 11  | DELETE      | /partidas/{partidaId}/jugadores/{jugadorId}/barcos/{barcoId} | N/A          | N/A                                                                                                                  | `{"mensaje": "El barco ha sido eliminado con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 200, 404, 500             |
| 12  | GET         | /partidas/{partidaId}/jugadores/{jugadorId}/barcos            | N/A          | N/A                                                                                                                  | `[{"id": 1, "partidaId": 1, "jugadorId": 1, "tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}, {"id": 2, "partidaId": 1, "jugador1_id": 1, "tamaño": 4, "orientación": "vertical", "inicialX": "C", "inicialY": 3, "estado": "dañado"}]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 200, 404, 500             |
| 13 | POST        | /partidas/{partidaId}/jugadores/{jugadorId}/disparos          | N/A          | `{"objetivoX": "D", "objetivoY": 4, "resultado": "fallido"}`                                                         | `{"id": 1, "partidaId": 1, "jugadorId": 2, "objetivoX": "D", "objetivoY": 4, "resultado": "fallido"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 201, 400, 500             |
